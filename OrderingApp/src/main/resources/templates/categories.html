<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Categories</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>
	<div th:replace="~{fragments/navbar :: navbar}"
		th:with="activePage = 'categories'"></div>
	<div class="container mt-5">
		<h2>Tables</h2>

		<!-- Table List -->
		<ul class="list-group mb-3" id="categoryList">
			<li
				class="list-group-item d-flex justify-content-between align-items-center"
				th:each="category : ${categories}"><span
				th:text="${category.name}"></span>
				<div class="btn-group">
					<button class="btn btn-outline-warning">Edit</button>
					<a
						th:href="@{/categories/remove/{categoryId} (categoryId = ${category.id})}"
						class="btn btn-outline-danger">Remove</a>
				</div></li>
			<li class="list-group-item text-end" id="addCategoryButtonContainer">
				<button class="btn btn-outline-success" id="addCategoryBtn"
					onclick="showAddCategoryForm()">Add Category</button>
			</li>
			<li class="list-group-item d-none" id="addCategoryFormContainer">
				<form th:action="@{/categories/add}" method="post"
					id="addCategoryForm" th:object="${newCategory}">
					<div class="input-group mb-3">
						<input type="text" class="form-control" name="categoryName"
							placeholder="Category Name" required>
						<button type="submit" class="btn btn-primary">Save</button>
					</div>
				</form>
			</li>
		</ul>
	</div>

	<script>
		function showAddCategoryForm() {
			document.getElementById('addCategoryButtonContainer').classList
					.add('d-none');
			document.getElementById('addCategoryFormContainer').classList
					.remove('d-none');
		}
		function showEditCategoryForm() {

		}
	</script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>